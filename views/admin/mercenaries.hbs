<div class="container">
  <div class="row">
    <div class="col-2">
      <div class="content-web">
        {{> list}}
      </div>
    </div>
    <div class="col-10">
      <br />
      <form action="/visitor/mercenaries/sort" method="post">
        <div class="sort d-flex flex-row justify-content-center">
          <div class="w-25 ms-5">
            {{> sort/property property=property}}
          </div>
          <div class="w-25 ms-5">
            {{> sort/weapon weapon=weapon}}
          </div>
          <div class="w-25 ms-5">
            <button class="btn btn-dark" type="submit">篩選</button>
          </div>
        </div>
      </form>
      <br />
      <table class="table align-middle">
        <thead class="thead-dark">
          <tr>
            <th class="text-center" scope="col">#</th>
            <th class="text-center" scope="col">名字</th>
            <th class="rwd text-center" scope="col">屬性</th>
            <th class="rwd text-center" scope="col">武器</th>
          </tr>
        </thead>
        <tbody>
          {{#each data}}
          <tr>
            <th class="text-center" scope="row">{{this.id}}</th>
            <td class="text-center">{{this.name}}</td>
            <td class="rwd text-center">{{this.property}}</td>
            <td class="rwd text-center">{{this.weapon}}</td>
            <td>
              <button type="button" class="btn btn-link">
                <a class="btn btn-link link-primary" href="/visitor/mercenary/{{this.id}}">
                  Show
                </a>
              </button>
              {{#if ../user}}
              {{#if isMineMercrnary}}
              <button type="button" class="rwd btn btn-link">
                <a class="btn btn-link link-primary" href="/user/remove/{{this.id}}">解僱</a>
              </button>
              {{else}}
              <button type="button" class="rwd btn btn-link">
                <a class="btn btn-link link-primary" href="/user/add/{{this.id}}">加入</a>
              </button>
              {{/if}}
              <button type="button" class="rwd btn btn-link">
                <a class="btn btn-link link-primary" href="/admin/mercenary/{{this.id}}/edit">
                  Edit
                </a>
              </button>
              <form action="/admin/mercenary/{{this.id}}?_method=DELETE" method="POST" style="display: inline;">
                <button type="submit" class="rwd btn btn-link link-danger"
                  onclick="return confirm(`確定要刪除 {{ this.name }} 嗎？`)">Delete</button>
              </form>
              {{/if}}
            </td>
          </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="content-mobile">
  <div class="btn-group dropup" id="list">
    <button type="button" class="btn btn-info dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
      目錄
    </button>
    <ul class="dropdown-menu">
      {{> list}}
    </ul>
  </div>
</div>